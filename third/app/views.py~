# encoding: utf-8

from django.shortcuts import render, render_to_response
# from django.http import HttpResponse, HttpResponseRedirect
# from django.template import RequestContext
# from django import forms
# from models import User


from social.douban import DouBan
from social.qzone import Qzone
from social.weibo import WeiBo

douban = DouBan()
weibo = WeiBo()
qzone = Qzone()
# class UserForm(forms.Form):
# 	username = forms.CharField(label='用户名', max_length=100)
# 	password = forms.CharField(label='密码', widget=forms.PasswordInput())


def login(request):
	return render_to_response('home.html')

def logout(request):
    # delete login data
    # if 'blog_user' in request.session:
    #     del request.session['blog_user']
	return render_to_response('home.html')

def social_data(request, code, state, weibo_found=False, douban_found=False, qzone_found=False):
	if state == "weibo":
		weibo.get_access_token(code=code)
		weibo.uid

	elif state == "douban":
		douban.get_access_token(code=code)
		douban.uid
	else:
		qzone.get_access_token(code=code)

	return render_to_response(
		'index.html', {'weibo_found': weibo_found,
		               'douban_found': douban_found,
		               'qzone_found': qzone_found,
		              }
		)

# weibo return
# http://stormy-anchorage-4382.herokuapp.com/account/?state=weibo&code=e77a11d30d62ac7bab10932e47bfcde5

# douban return
# http://stormy-anchorage-4382.herokuapp.com/account/?code=cad7b4da5b86b0f8&state=douban

# tecent teturn
# http://stormy-anchorage-4382.herokuapp.com/account/?code=5AD5DE9AA8769119D945EB2EB41C0408&state=qzone

